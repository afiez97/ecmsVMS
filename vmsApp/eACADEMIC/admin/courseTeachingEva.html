<style>
    .editable {
        cursor: pointer;
    }
</style>

<!-- HEADER INSERT -->
<div class="app-header white bg b-b">
    <div class="navbar" data-pjax>
        <a data-toggle="modal" data-target="#aside" class="navbar-item pull-left hidden-lg-up p-r m-a-0">
            <i class="ion-navicon"></i>
        </a>

        <ul class="nav navbar-nav">
            <li class="nav-item">
                <span class="navbar-item text-md">Course Teaching Evaluation
                    <!-- <li class="nav-item">
				        <a class="nav-link text-muted" data-toggle="modal" data-target="#reg-borang">
				            <span class="">
				            	<i class="fa fa-fw fa-plus"></i>
				            	<span class="hidden-sm-down">New Record</span>
				            </span>
				        </a>
			        </li> -->
        </ul>
        <!-- nabar right -->
        <ul class="nav navbar-nav pull-right" id="template-header"> </ul>
    </div>
</div>

<!-- FOOTER INSERT  -->
<div class="app-footer white bg p-a b-t" id="template-footer"> </div>

<div class="app-body">

    <!-- CONTENT START -->
    <div style="min-height: mh-200">
        <div class="col-md-12 mt-2">

            <div class="box">
                <div class="box-header blue-700">
                    <h3>
                        <p>
                            <b class="text-uppercase m-t-3"><span id="fac_name">Course Teaching</span> <span
                                    id="">Evaluation</span></b>
                        </p>
                    </h3>
                </div>
                <div class="box-body lt">
                    <p class="m-a-0 ">


                    <div class="row-col white">
                        <div class="col-sm-3 col-lg-2 b-r">
                            <div class="p-y">
                                <div class="nav-active-border left b-primary">
                                    <ul class="nav nav-md">
                                        <li class="nav-item none">
                                            <a class="nav-link block" href="#" data-toggle="tab" data-target="#"></a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link block active" href="#" data-toggle="tab"
                                                data-target="#tab-1">Section A</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link block" href="#" data-toggle="tab"
                                                data-target="#tab-2">Section B</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link block" href="#" data-toggle="tab"
                                                data-target="#tab-3">Section C</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link block" href="#" data-toggle="tab"
                                                data-target="#tab-4">Section D</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link block" href="#" data-toggle="tab"
                                                data-target="#tab-5">Section E</a>
                                        </li>
                                    </ul>
                                    <div class="p-a-md pull-left">

                                        <!-- <p><strong>do account?</strong></p> -->
                                        <input type="hidden" id="questionsArrayInput" name="questionsArray">
                                        <a id="saveButton" class="btn btn-success m-t" data-toggle="modal"
                                            data-target="#modal">Save</a>


                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-9 col-lg-10">
                            <div class="tab-content pos-rlt">
                                <div class="tab-pane active" id="tab-1">
                                 









                                    <div class="box-header b-b">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div class="col-md-2">
                                                    <div class="mt-0 h4 font-weight-bold">Section A :</div>
                                                </div>
                                                <div class="col-md-10">
                                                    <span class="mt-0 h4" id="descHead_Section_A" style="display: inline; margin-left: 0;"><br> <small></small></span>

                                                </div>
                                                
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box-tool">
                                                    <ul class="nav">
                                                        <li class="nav-item inline">
                                                            <!-- <a class="nav-link text-muted divSem" data-toggle="modal"
                                                                data-target="#mdlAddQuestions">
                                                                <span class="">
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a> -->
                                                            <a class="nav-link text-muted b-l b-l-dark p-l btn_create_sc_cte" onclick="addDescription('Section A')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">Add Description</span>
                                                                </span>
                                                            </a>
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte" onclick="addQuestion('Section A')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    

                                    <form role="form" class="p-a-md col-md-12">

                                        <div>
                                            <table class="table" id="table_Section_A">

                                            </table>
                                        </div>
                                    </form>
                                </div>
                                <div class="tab-pane" id="tab-2">
                                    <!-- <div class="p-a-md b-b _600">Section B</div> -->
                                    <div class="box-header b-b">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="h4 font-weight-bold">Section B:</div>
                                                    </div>
                                                    <div class="col-md-10">
                                                        <span class="h4" id="descHead_Section_B"><br><small></small></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4" >
                                                <div class="box-tool">
                                                    <ul class="nav">
                                                        <li class="nav-item inline">
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte"  onclick="addDescription('Section B')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">Add Description</span>
                                                                </span>
                                                            </a>
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte" onclick="addQuestion('Section B')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <form role="form" class="p-a-md col-md-12">
                                        <div>
                                            <table class="table m-b-none" id="table_Section_B">

                                            </table>
                                        </div>
                                    </form>
                                </div>
                                <div class="tab-pane" id="tab-3">
                                    <!-- <div class="p-a-md b-b _600">Section C</div> -->
                                    <div class="box-header b-b">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="mt-0 h4 font-weight-bold">Section C:</div>
                                                    </div>
                                                    <div class="col-md-10">
                                                        <span class="mt-0 h4" id="descHead_Section_C" style="display: inline; margin-left: 0;"><br> <small></small></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box-tool">
                                                    <ul class="nav">
                                                        <li class="nav-item inline">
                                                            <!-- Example commented out link -->
                                                            <!--
                                                            <a class="nav-link text-muted divSem" data-toggle="modal"
                                                                data-target="#mdlAddQuestions">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                            -->
                                                            <a class="nav-link text-muted b-l b-l-dark p-l btn_create_sc_cte" onclick="addDescription('Section C')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">Add Description</span>
                                                                </span>
                                                            </a>
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte" onclick="addQuestion('Section C')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    <form role="form" class="p-a-md col-md-12">
                                        <div>
                                            <table class="table m-b-none default footable-loaded footable"
                                                id="table_Section_C">

                                            </table>
                                        </div>
                                    </form>
                                </div>
                                <div class="tab-pane" id="tab-4">
                                    <!-- <div class="p-a-md b-b _600">Section D</div> -->
                                    <div class="box-header b-b">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="mt-0 h4 font-weight-bold">Section D:</div>
                                                    </div>
                                                    <div class="col-md-10">
                                                        <span class="mt-0 h4" id="descHead_Section_D" style="display: inline; margin-left: 0;"><br> <small></small></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box-tool">
                                                    <ul class="nav">
                                                        <li class="nav-item inline">
                                                            <!-- Example commented out link -->
                                                            <!--
                                                            <a class="nav-link text-muted divSem" data-toggle="modal"
                                                                data-target="#mdlAddQuestions">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                            -->
                                                            <a class="nav-link text-muted b-l b-l-dark p-l btn_create_sc_cte" onclick="addDescription('Section D')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">Add Description</span>
                                                                </span>
                                                            </a>
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte" onclick="addQuestion('Section D')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    <form role="form" class="p-a-md col-md-12">
                                        <div>
                                            <table class="table m-b-none default footable-loaded footable"
                                                id="table_Section_D">

                                            </table>
                                        </div>
                                    </form>
                                </div>
                                <div class="tab-pane" id="tab-5">
                                    <!-- <div class="p-a-md b-b _600">Section E</div> -->
                                    <div class="box-header b-b">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="mt-0 h4 font-weight-bold">Section E:</div>
                                                    </div>
                                                    <div class="col-md-10">
                                                        <span class="mt-0 h4" id="descHead_Section_E" style="display: inline; margin-left: 0;"><br> <small></small></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="box-tool">
                                                    <ul class="nav">
                                                        <li class="nav-item inline">
                                                            <!-- Example commented out link -->
                                                            <!--
                                                            <a class="nav-link text-muted divSem" data-toggle="modal"
                                                                data-target="#mdlAddQuestions">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                            -->
                                                            <a class="nav-link text-muted b-l b-l-dark p-l btn_create_sc_cte" onclick="addDescription('Section E')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">Add Description</span>
                                                                </span>
                                                            </a>
                                                            <a class="nav-link text-muted b-l b-l-dark p-l divSem btn_create_sc_cte" onclick="addQuestion('Section E')">
                                                                <span>
                                                                    <i class="fa fa-fw fa-plus"></i>
                                                                    <span class="hidden-sm-down">New Record</span>
                                                                </span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    <div class="p-a-md">
                                        <div class="clearfix m-b-lg">
                                            <form role="form" class="col-md-12 p-a-0">
                                                <div>
                                                    <table class="table m-b-none default footable-loaded footable"
                                                        id="table_Section_E">

                                                    </table>
                                                </div>
                                            </form>
                                        </div>

                                        <!-- <input type="hidden" id="questionsArrayInput" name="questionsArray">
                                        <a  id="saveButton" class="btn btn-success m-t" data-toggle="modal" data-target="#modal">Save</a> -->


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </p>
                </div>
            </div>
        </div>
    </div>

</div>

<!-------------------------------------------------- add Question -------------------------------------------------->
<div id="mdlAddQuestions" class="modal fade" data-backdrop="static">
    <div id="details" class="modal-dialog">
        <div class="modal-content">
            <form role="form" id="formAddQuestion">
                <div class="modal-header purple-700">
                    <h5 class="modal-title">ADD QUESTION</h5>
                </div>
                <div class="modal-body p-lg">
                    <p>
                        <input type="hidden" id="section">
                        <!-- <span class="hidden" id="section"></span> -->

                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Question in BM</label>
                        <div class="col-sm-9">
                            <textarea class="form-control has-value" id="questionBM" rows="3" placeholder=""></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Question in BI</label>
                        <div class="col-sm-9">
                            <textarea class="form-control has-value" id="questionBI" rows="3" placeholder=""></textarea>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Type of Question</label>
                        <div class="col-sm-9">
                            <select id="type_question" required="" class="form-control c-select" >
                                <option value="">Please choose</option>
                                <option value="open-ended">Open-ended Question</option>
                                <option value="single-answer">Single Answer Question</option>
                            </select>
                        
                        </div>
                    </div>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn white p-x-md" data-dismiss="modal">Cancel</button>
                    <input type="submit" class="btn info p-x-md" value="Save" id="regPerincian">
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div>
</div>
<!-------------------------------------------------- end add Question -------------------------------------------------->
<!-------------------------------------------------- add Description/title -------------------------------------------------->
<div id="mdlAddDesc" class="modal fade" data-backdrop="static">
    <div id="descriptionID" class="modal-dialog">
        <div class="modal-content">
            <form role="form" id="formAddDesc">
                <div class="modal-header purple-700">
                    <h5 class="modal-title">ADD DESCRIPTION</h5>
                </div>
                <div class="modal-body p-lg">
                    <p>
                        <input type="hidden" id="descSection">
                        <!-- <span class="hidden" id="section"></span> -->

                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Description in BM</label>
                        <div class="col-sm-9">
                            <textarea class="form-control has-value" id="DescBM" rows="3" placeholder=""></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Description in BI</label>
                        <div class="col-sm-9">
                            <textarea class="form-control has-value" id="DescBI" rows="3" placeholder=""></textarea>
                        </div>
                    </div>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn white p-x-md" data-dismiss="modal">Cancel</button>
                    <input type="submit" class="btn info p-x-md" value="Save" id="regDescription">
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div>
</div>
<!-------------------------------------------------- end Description/title -------------------------------------------------->

<!-------------------------------------------------- update policy -------------------------------------------------->
<div id="mdlUptForm" class="modal fade" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <form role="form" id="updateQuestion">
                <div class="modal-header lime-900">
                    <h5 class="modal-title">UPDATE POLICY</h5>
                </div>
                <div class="modal-body p-lg">
                    <p>
                        <input type="hidden" id="numberQuestion">
                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Question in BM</label>
                        <div class="col-sm-9">
                            <textarea class="form-control" id="upt_questionBM" rows="3" placeholder=""></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="deskripsi" class="col-sm-3 form-control-label">Question in BI</label>
                        <div class="col-sm-9">
                            <textarea class="form-control" id="upt_questionBI" rows="3" placeholder=""></textarea>
                        </div>
                    </div>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn white p-x-md " data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn success p-x-md ">Update</button>
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div>
</div>
<!-------------------------------------------------- end update policy -------------------------------------------------->


<div class="modal fade" id="list_stdStanding" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="title_standing"></h5>
                <small id="title_intake"></small>
            </div>
            <div class="modal-body">
                <table id="listStdPgm" data-sorting="true" class="table table-striped table-condensed table-bordered">
                </table>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" data-dismiss="modal" class="btn grey-100">Back</a>
            </div>
        </div>
    </div>
</div>

<div id="modal_generate" class="modal fade" data-backdrop="static">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5>Generate GPA/CGPA</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <b id="pgm_name"></b><br><br>
                    </div>
                    <div class="col-md-12 table-responsive">
                        <div class="progress progress-striped active">
                            <div class="progress-bar success" style="width: 0%">0%</div>
                        </div>
                        <table class="table table-striped">
                            <tbody class="list_generate"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="viewResult">
    <div class="modal-bottom white b-b" style="height:80%;">
        <div class="row-col">
            <div class="grey-100 b-b b-t">
                <div class="container">
                    <div class="row m-t-1">
                        <div class="col-xs-4">
                            <img src="images/LOGO-UCMI(Landscape).png" width="80%" alt="" srcset="">
                        </div>
                        <div class="col-xs-8 text-right">
                            <b id="student_id"></b><br>
                            <span id="name_std"></span>
                            <span id="noic"></span><br>
                            <span id="intake_std"></span>
                            <hr>
                            <span id="programme_name"></span>
                            <span id="cur_intake"></span>
                            <span id="sem_academic"></span><br>
                            <span>SEMESTER : <span id="sem_std"></span></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-row">
                <div class="row-body">
                    <div class="row-inner">
                        <div class="container">
                            <p class="text-center table-responsive" style="padding:0 0;">
                            <table class="table m-b-none table-bordered table-striped" id="tblResult"></table>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-a b-t">
                <div class="container text-right">
                    <button class="btn btn-dark" id="back_page">Back</button>
                    <button disabled class="btn btn-primary btnGenerate">Generate</button>
                </div>
            </div>
        </div> <!-- row-col -->
    </div>
</div>

<div class="modal" id="loading_mode" data-backdrop="static">
    <div class="modal-dialog">
        <div style="padding-top: 50%; color: #ffffff;" class="text-center text-white"><span
                class="fa fa-refresh fa-spin fa-2x m-b"></span>&nbsp;&nbsp;&nbsp;<i id="load_text">Loading Data...</i>
        </div>
    </div>
</div>

<script src="scripts/ajax.js"></script>

<script src="callFunction.js"></script>
<script src="scripts/action.min.js"></script>
<script src="courseTeachingEva.js?n=2"></script>
<script src="capaian.js"></script>


<script>
    $().ready(function () {


        $(".editable").click(function () {
            span = $(this);
            id = span.attr("id"); // Get current id of span
            last = id.substring(id.lastIndexOf("_") + 1);

            text = span.text();

            input = $("<input>", {
                type: "text",
                value: text,
                blur: function () {
                    var newText = $(this).val();
                    span.text(newText);
                    span.show();
                    $(this).remove();
                    // console.log("New value:", newText); // Logging the new value
                    // console.log( $("#secDet_A").html()); // Logging the new value
                    console.log("Current id:", id); // Logging the current id of span

                 
            let sectionToUpdate = 'Section ' + last;

            questionsArray[sectionToUpdate].sectionDetail = newText;


                    // questionsArray[section].push(newEntry);
                },
                keyup: function (e) {
                    if (e.which === 13) { // Enter key
                        $(this).blur();
                    }
                }
            });

            span.hide();
            span.after(input);
            input.focus();

        });

    })
</script>